% !TeX TXS-program:compile = txs:///xelatex/[-shell-escape]
\PassOptionsToPackage{dvipsnames}{xcolor}
\documentclass[cfonts]{nostarch}

\edef\TeXjobname{\jobname} % keep a copy just for safety

\edef\jobname{\detokenize{sidsmain}}

\usepackage{natbib}
\usepackage{enumitem}
\usepackage{pdfpages}
\usepackage{nshyper}
\usepackage[italic]{mathastext}

\IfFileExists{ForceCache}{
\usepackage[cache,listings]{runcode} 
}
{
\usepackage[nohup,R,listings]{runcode} % can add/remove the cache option
}
\lstset{
  fancyvrb=true,
  breaklines=true,
  escapeinside={(@}{@)}
}
\lstalias{R}{}

\tcbset{colframe=white,colback=white,% change the default colors of vbox
boxsep=0pt,left=0pt,right=0pt,top=0pt,bottom=0pt} % change the margins

\NewDocumentCommand{\likelst}{m}{\texttt{\detokenize{#1}}}

\usepackage{multirow,amsthm,xspace}
\usetikzlibrary{shapes,shadows}
% \usepackage{showlabels}

% self defined environment and commands
\theoremstyle{definition}
\newtheorem{example}{Example}[chapter]
\theoremstyle{remark}
\newtheorem{exercise}{Exercise}[chapter]

\newcommand\code[1]{\lstinline{#1}}
\let\proglang\textsf
\newcommand{\pkg}[1]{{\fontshape{it}\selectfont #1}}
\newcommand{\R}{R\xspace}
\newcommand{\why}[1]{\textcolor{red}{(WHY: #1)}}
\newcommand{\hyb}[1]{\textcolor{orange}{(HYB: #1)}}

% ===== CONFIGURE =====
\SetLabelAlign{newline}{\makebox[\dimexpr\linewidth-\labelsep][l]{#1}}%
\newlist{listhead}{description}{3}
\setlist[listhead]{align=newline, listparindent=\parindent}
\setlist[enumerate]{leftmargin=36pt,labelsep=0.15in} % Use normal paragraph indentation in enumerate lists
\setlist[itemize]{leftmargin=36pt,labelsep=0.18in} % Use normal paragraph indentation in itemize lists
\setlist[description]{leftmargin=18pt,labelwidth=0pt, labelindent=0pt, labelsep=0pt, itemindent=0pt} % Use normal paragraph indentation in description lists
\renewcommand{\descriptionlabel}[1]{\hspace{\labelsep}\textbf{#1\quad}} % Add em space to description label

\setcounter{secnumdepth}{0} % Unnumbers sections

\usepackage{array}
\newcolumntype{?}[1]{!{\vrule width #1}}

\usepackage{cellspace}
\setlength\cellspacetoplimit{2pt}
\setlength\cellspacebottomlimit{2pt}

\def\UrlFont{\em} % Change URLs to italic
  
% ===== INDEX, CHICAGO STYLE =====
\renewcommand{\seename}{See}
\renewcommand{\alsoname}{See also}

\makeindex
\makeatletter
\def\idxdelim{\@ifnextchar{\hyperindexformat}{. }{, }}
\makeatother

\let\oldhref\href
\renewcommand{\href}[2]{\oldhref{#1}{\itshape#2}}

% for commenting
\newcommand{\jy}[1]{\textcolor{blue}{(JY: #1)}}
\newcommand{\hyw}[1]{\textcolor{red}{(HYW: #1)}}
\newcommand{\hb}[1]{\textcolor{orange}{(HB: #1)}}



\begin{document}


\frontmatter
\input{chapters/front_matter}

\mainmatter

%\runcodefalse
% \runcodetrue
\input{chapters/Rintro}
\input{chapters/EDA}
\input{chapters/probability}
\input{chapters/llnclt}
\input{chapters/hypothesis}
\input{chapters/estimation}
\input{chapters/datacollect}
\input{chapters/regcorr}
\input{chapters/nyccrashes}

\index{vita|)}

\backmatter

% \nocite{*}
\bibliographystyle{plainnat}
% \bibliography{nostarch}
\bibliography{book.bib}

\printindex

\updatespage

Visit \url{http://borisv.lk.net/latex.html} for updates, errata, and
other information.


\colophon

The book was produced as an example of the package \texttt{nostarch}. 

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-command-extra-options: "--shell-escape"
%%% TeX-engine: xetex
%%% End:
