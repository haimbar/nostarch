% !TeX TXS-program:compile = txs:///xelatex/[-shell-escape]
\PassOptionsToPackage{dvipsnames}{xcolor}
\documentclass[cfonts]{nostarch}

\edef\TeXjobname{\jobname} % keep a copy just for safety

\edef\jobname{\detokenize{sidsmain}}


% \usepackage{lipsum}
\hyphenation{ve-sti-bu-lum sene-c-tus rut-rum con-sec-te-tu-er
  elei-fend no-num-my li-be-ro}

\usepackage{natbib}
\usepackage{enumitem}
\usepackage{pdfpages}
\usepackage{nshyper}
\usepackage[italic]{mathastext}

% \def\replace#1#2#3{%
%  \def\tmp##1#2{##1#3\tmp}%
%    \tmp#1\stopreplace#2\stopreplace}
% \def\stopreplace#1\stopreplace{}

\IfFileExists{ForceCache}{
\usepackage[cache,listings]{runcode} 
}
{
\usepackage[nohup,R,listings]{runcode} % can add/remove the cache option
}
\lstset{
  fancyvrb=true,
  breaklines=true,
  escapeinside={(@}{@)}
}
\lstalias{R}{}

%\setminted[julia]{linenos, frame=single, bgcolor=bg, breaklines=true}
%\setminted[R]{linenos, frame=single, bgcolor=white, breaklines=true}
%\setminted[python]{linenos, frame=single, bgcolor=white, breaklines=true}
%\tcbset{breakable,colback=red!5!white,colframe=red!75!black,boxsep=-0.5mm}
\tcbset{colframe=white,colback=white,% change the default colors of vbox
boxsep=0pt,left=0pt,right=0pt,top=0pt,bottom=0pt} % change the margins

\NewDocumentCommand{\likelst}{m}{\texttt{\detokenize{#1}}}

\usepackage{multirow,amsthm,xspace}
\usetikzlibrary{shapes,shadows}
% \usepackage{showlabels}

% \usepackage{xpatch}
% % \xpretocmd{\inputminted}{\par\vspace{-0.5em}}{}{}
% \xapptocmd{\inputminted}{\par\vspace{-0.5em}}{}{}

% self defined environment and commands
\theoremstyle{definition}
\newtheorem{example}{Example}[chapter]
\theoremstyle{remark}
\newtheorem{exercise}{Exercise}[chapter]

\newcommand\code[1]{\lstinline{#1}}
\let\proglang\textsf
\newcommand{\pkg}[1]{{\fontshape{it}\selectfont #1}}
%\newcommand{\R}{\textsf{R}\xspace}
\newcommand{\R}{R\xspace}
\newcommand{\why}[1]{\textcolor{red}{(WHY: #1)}}
\newcommand{\hyb}[1]{\textcolor{orange}{(HYB: #1)}}

% ===== CONFIGURE =====
\SetLabelAlign{newline}{\makebox[\dimexpr\linewidth-\labelsep][l]{#1}}%
\newlist{listhead}{description}{3}
\setlist[listhead]{align=newline, listparindent=\parindent}
\setlist[enumerate]{leftmargin=36pt,labelsep=0.15in} % Use normal paragraph indentation in enumerate lists
\setlist[itemize]{leftmargin=36pt,labelsep=0.18in} % Use normal paragraph indentation in itemize lists
\setlist[description]{leftmargin=18pt,labelwidth=0pt, labelindent=0pt, labelsep=0pt, itemindent=0pt} % Use normal paragraph indentation in description lists
\renewcommand{\descriptionlabel}[1]{\hspace{\labelsep}\textbf{#1\quad}} % Add em space to description label

\setcounter{secnumdepth}{0} % Unnumbers sections

\usepackage{array}
\newcolumntype{?}[1]{!{\vrule width #1}}

\usepackage{cellspace}
\setlength\cellspacetoplimit{2pt}
\setlength\cellspacebottomlimit{2pt}

\def\UrlFont{\em} % Change URLs to italic
  
% ===== INDEX, CHICAGO STYLE =====
\renewcommand{\seename}{See}
\renewcommand{\alsoname}{See also}

\makeindex
\makeatletter
\def\idxdelim{\@ifnextchar{\hyperindexformat}{. }{, }}
\makeatother

\let\oldhref\href
\renewcommand{\href}[2]{\oldhref{#1}{\itshape#2}}

\begin{document}


\frontmatter
\input{chapters/front_matter}

%\author{A.~U.~Thor, C.~O.~R.~Respondent and W.~R.~Iter}
%
%\title{Pellentesque habitant morbi}
%
%\subtitle{Cum sociis natoque penatibus}
%
%\nostarchlogo{vitruvian.jpg}
%
%\makehalftitle
%
%\maketitle
%
%

%\index{Keats, John@\emph{Keats, John}}
%\index{gods!Greek!Apollo}
%\index{Apollo|see{gods, Greek}}
%\index{Greek gods|see{gods, Greek}}

%\brieftableofcontents
%
%\tableofcontents

% --file-line-error --synctex=1


% \chapter*[Foreword by R.~E.~Viewer]{Foreword}

% \bigskip

% \lipsum[48-60]

% \bigskip

% \begin{raggedright}
% \bfseries
% R.~E.~Viewer\index{Viewer, R. E.@\emph{Viewer, R.~E.}}\\
% New York\index{USA!states!New York}\index{New York|see{USA, states}}\\
% December 2007
% \end{raggedright}

\mainmatter
% \part{Mi aliquam dictum}

% \lipsum[77-78]

%\runcodefalse
\runcodetrue
\input{chapters/Rintro}
\input{chapters/EDA}
\input{chapters/probability}
\input{chapters/llnclt}
\input{chapters/hypothesis}
\input{chapters/estimation}
% \runcodefalse
\input{chapters/datacollect}
%\input{chapters/regcorr}
% \include{chapters/nyccrash}




\index{vita|)}

\backmatter

% \nocite{*}
\bibliographystyle{plainnat}
% \bibliography{nostarch}
\bibliography{book.bib}

\printindex

\updatespage

Visit \url{http://borisv.lk.net/latex.html} for updates, errata, and
other information.


\colophon

The book was produced as an example of the package \texttt{nostarch}. 

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-command-extra-options: "--shell-escape"
%%% TeX-engine: xetex
%%% End:
